Напиши скрипт на python для конвертации архива фото:
параметры скрипта:
- src_path - путь архива фотографий
- dst_path - результирующий путь куда сохранить сконверченные фото
основная функция должна обойти все подкаталоги и файлы директории src_path, выбрать нужные файлы, сконвертировать их, определить куда сохранять и сохранить;
Вынести в отдельные функции этапы конвертации:
- определить нужно ли конвертить файл (need_conv),
- переконвертить файл фотографии (conv_img),
- определить результирующий путь сохранения фото (make_img_path)

функция need_conv - определяет нужно ли конверить фото, конвертируются только фото, все видео и другие файлы пропускаются.
функция conv_img - конвертирует фото в разрешение 2k, параметры конвертации quality=80, optimize=True,
не забыть преобразовать изображение в цветовой режим RGB, в новом файле нужно сохранить все метаданные,
но удалить неактальные после конвертации метаданные, например размер, ориентацию (выставить 1 - без поворота),
также не забыть перегенерить Эскиз-превью фотографии.
Имя файла определять по шаблону IMG_<год><месяц><день>_<значение счетчика>.jpg, например IMG_20251015_174665.jpg

функция make_img_path - определяет путь куда сохранять конверченное фото, при необходимости создает все подкаталоги. Начинается относительно dst_path, то есть внутри него.
dst_path/<Год создания фото>/<Месяц создания>/<Дополнительный путь>.
Дополнительный путь определяется следующим образом: берется путь исходного файла после src_path и к нему применяются следующие изменения:
- убираются каталоги состоянищие только из цифр, чисел и спец знаков, пунктуации _, (,) и других
- если имя каталога начинается с disk или part, то пропускается
например параметры
src_path=/src/media, dst_path=/dst/media
обработано фото /src/media/part1/disk23/nokia/234455_344__2/katya/img_233445.jpg
то с учетом правил результирующий путь /dst/media/2025/04/nokia/katya/IMG_20250430_234.jpg
2025, 04, 30 - год, месяц, день съемки,
234 - уникальный counter
part1, disk23, 234455_344__2 - эти каталоги пропускаются при создании пути,
имя формируется по шаблону